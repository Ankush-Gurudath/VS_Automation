[pytest]
# Pytest configuration for Video Search Automation

# Test discovery patterns
python_files = test_*.py *_test.py
python_classes = Test*
python_functions = test_*

# Test paths
testpaths = tests

# Command line options (these will be used by default)
addopts = 
    -v
    --strict-markers
    --tb=short
    --maxfail=5
    --alluredir=allure-results
    -p no:warnings
    --color=yes

# Console output style
console_output_style = progress

# Markers - Register custom markers to avoid warnings
markers =
    order: marks tests for execution order
    smoke: marks tests as smoke tests (quick validation)
    regression: marks tests as regression tests
    critical: marks tests as critical priority
    high: marks tests as high priority
    medium: marks tests as medium priority
    low: marks tests as low priority
    browse: marks tests related to browse/vehicle page
    video: marks tests related to video functionality
    map: marks tests related to map functionality
    snapshot: marks tests related to snapshot functionality
    login: marks tests related to login functionality
    search: marks tests related to search functionality
    ui: marks tests as UI tests
    api: marks tests as API tests
    slow: marks tests as slow running

# Logging configuration
log_cli = true
log_cli_level = INFO
log_cli_format = %(asctime)s [%(levelname)8s] %(message)s
log_cli_date_format = %Y-%m-%d %H:%M:%S

log_file = tests.log
log_file_level = DEBUG
log_file_format = %(asctime)s [%(levelname)8s] [%(filename)s:%(lineno)d] %(message)s
log_file_date_format = %Y-%m-%d %H:%M:%S

# Warnings
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning

# Coverage options (if using pytest-cov)
# Uncomment if you want to enable coverage
# [coverage:run]
# source = pages, utils, locators
# omit = tests/*, conftest.py

# Minimum Python version
minversion = 3.7

# Timeout for tests (requires pytest-timeout plugin)
# timeout = 300

# Parallel execution (requires pytest-xdist plugin)
# addopts = -n auto
